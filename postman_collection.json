{
  "info": {
    "name": "muambr-api Collection",
    "description": "Product Comparison API Testing Collection",
    "schema": "https://schema.getpostman.com/json/collection/v2.1.0/collection.json"
  },
  "variable": [
    {
      "key": "base_url",
      "value": "http://localhost:8080",
      "description": "Base URL for the API (change to production URL when deployed)"
    }
  ],
  "item": [
    {
      "name": "Health Check",
      "request": {
        "method": "GET",
        "header": [],
        "url": {
          "raw": "{{base_url}}/health",
          "host": ["{{base_url}}"],
          "path": ["health"]
        }
      },
      "response": [
        {
          "name": "Health Check - Success",
          "originalRequest": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{base_url}}/health",
              "host": ["{{base_url}}"],
              "path": ["health"]
            }
          },
          "status": "OK",
          "code": 200,
          "_postman_previewlanguage": "json",
          "header": [
            {
              "key": "Content-Type",
              "value": "application/json"
            }
          ],
          "cookie": [],
          "body": "{\n  \"message\": \"Product Comparison API is running\",\n  \"version\": \"1.0.0\",\n  \"timestamp\": \"2025-10-07T12:00:00Z\"\n}"
        }
      ]
    },
    {
      "name": "Mercado Livre - Sony XM6",
      "request": {
        "method": "GET",
        "header": [],
        "url": {
          "raw": "{{base_url}}/api/comparisons?name=sony xm6&country=BR&currency=BRL&limit=5",
          "host": ["{{base_url}}"],
          "path": ["api", "comparisons"],
          "query": [
            {
              "key": "name",
              "value": "sony xm6"
            },
            {
              "key": "country",
              "value": "BR"
            },
            {
              "key": "currency",
              "value": "BRL"
            },
            {
              "key": "limit",
              "value": "5"
            }
          ]
        }
      },
      "response": [
        {
          "name": "Mercado Livre - Success Response",
          "originalRequest": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{base_url}}/api/comparisons?name=sony xm6&country=BR&currency=BRL&limit=5",
              "host": ["{{base_url}}"],
              "path": ["api", "comparisons"],
              "query": [
                {
                  "key": "name",
                  "value": "sony xm6"
                },
                {
                  "key": "country",
                  "value": "BR"
                },
                {
                  "key": "currency",
                  "value": "BRL"
                },
                {
                  "key": "limit",
                  "value": "5"
                }
              ]
            }
          },
          "status": "OK",
          "code": 200,
          "_postman_previewlanguage": "json",
          "header": [
            {
              "key": "Content-Type",
              "value": "application/json"
            }
          ],
          "cookie": [],
          "body": "[\n  {\n    \"name\": \"Fone De Ouvido On-ear Sony Zx Series Mdr-zx110 Mdr-zx110 Preto\",\n    \"price\": \"121\",\n    \"store\": \"Mercado Livre (Available for Brazil)\",\n    \"currency\": \"BRL\",\n    \"url\": \"https://www.mercadolivre.com.br/fone-de-ouvido-on-ear-sony-zx-series-mdr-zx110-mdr-zx110-preto/p/MLB6072236\"\n  },\n  {\n    \"name\": \"Fone De Ouvido On-ear Sony Zx Series Mdr-zx110 Mdr-zx110 Branco\",\n    \"price\": \"121\",\n    \"store\": \"Mercado Livre (Available for Brazil)\",\n    \"currency\": \"BRL\",\n    \"url\": \"https://www.mercadolivre.com.br/fone-de-ouvido-on-ear-sony-zx-series-mdr-zx110-mdr-zx110-branco/p/MLB6072235\"\n  },\n  {\n    \"name\": \"Fone De Ouvido Sony Mdr-zx110 Headphone Dobr√°vel (preto) Preto\",\n    \"price\": \"138.57\",\n    \"store\": \"Mercado Livre (Available for Brazil)\",\n    \"currency\": \"BRL\",\n    \"url\": \"https://www.mercadolivre.com.br/fone-de-ouvido-sony-mdrzx110-headphone-dobravel-preto/up/MLBU1100575710\"\n  }\n]"
        }
      ]
    },
    {
      "name": "KuantoKusta - iPhone 15",
      "request": {
        "method": "GET",
        "header": [],
        "url": {
          "raw": "{{base_url}}/api/comparisons?name=iphone 15&country=PT&currency=EUR",
          "host": ["{{base_url}}"],
          "path": ["api", "comparisons"],
          "query": [
            {
              "key": "name",
              "value": "iphone 15"
            },
            {
              "key": "country",
              "value": "PT"
            },
            {
              "key": "currency",
              "value": "EUR"
            }
          ]
        }
      },
      "response": [
        {
          "name": "KuantoKusta - Success Response",
          "originalRequest": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{base_url}}/api/comparisons?name=iphone 15&country=PT&currency=EUR",
              "host": ["{{base_url}}"],
              "path": ["api", "comparisons"],
              "query": [
                {
                  "key": "name",
                  "value": "iphone 15"
                },
                {
                  "key": "country",
                  "value": "PT"
                },
                {
                  "key": "currency",
                  "value": "EUR"
                }
              ]
            }
          },
          "status": "OK",
          "code": 200,
          "_postman_previewlanguage": "json",
          "header": [
            {
              "key": "Content-Type",
              "value": "application/json"
            }
          ],
          "cookie": [],
          "body": "[\n  {\n    \"name\": \"iPhone 15 128GB Azul\",\n    \"price\": \"899.00\",\n    \"store\": \"KuantoKusta (Available for Portugal)\",\n    \"currency\": \"EUR\",\n    \"url\": \"https://www.kuantokusta.pt/p/12345/iphone-15-128gb-azul\"\n  },\n  {\n    \"name\": \"iPhone 15 256GB Rosa\",\n    \"price\": \"999.00\",\n    \"store\": \"KuantoKusta (Available for Portugal)\",\n    \"currency\": \"EUR\",\n    \"url\": \"https://www.kuantokusta.pt/p/12346/iphone-15-256gb-rosa\"\n  }\n]"
        }
      ]
    },
    {
      "name": "Kelkoo - Samsung Galaxy",
      "request": {
        "method": "GET",
        "header": [],
        "url": {
          "raw": "{{base_url}}/api/comparisons?name=samsung galaxy s24&country=ES&currency=EUR",
          "host": ["{{base_url}}"],
          "path": ["api", "comparisons"],
          "query": [
            {
              "key": "name",
              "value": "samsung galaxy s24"
            },
            {
              "key": "country",
              "value": "ES"
            },
            {
              "key": "currency",
              "value": "EUR"
            }
          ]
        }
      },
      "response": [
        {
          "name": "Kelkoo - No Results (Expected)",
          "originalRequest": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{base_url}}/api/comparisons?name=samsung galaxy s24&country=ES&currency=EUR",
              "host": ["{{base_url}}"],
              "path": ["api", "comparisons"],
              "query": [
                {
                  "key": "name",
                  "value": "samsung galaxy s24"
                },
                {
                  "key": "country",
                  "value": "ES"
                },
                {
                  "key": "currency",
                  "value": "EUR"
                }
              ]
            }
          },
          "status": "OK",
          "code": 200,
          "_postman_previewlanguage": "json",
          "header": [
            {
              "key": "Content-Type",
              "value": "application/json"
            }
          ],
          "cookie": [],
          "body": "{\n  \"data\": []\n}"
        }
      ]
    },
    {
      "name": "With Current Country Context",
      "request": {
        "method": "GET",
        "header": [],
        "url": {
          "raw": "{{base_url}}/api/comparisons?name=macbook pro&country=PT&currentCountry=BR&currency=EUR",
          "host": ["{{base_url}}"],
          "path": ["api", "comparisons"],
          "query": [
            {
              "key": "name",
              "value": "macbook pro"
            },
            {
              "key": "country",
              "value": "PT"
            },
            {
              "key": "currentCountry",
              "value": "BR"
            },
            {
              "key": "currency",
              "value": "EUR"
            }
          ]
        }
      },
      "response": [
        {
          "name": "Multi-Country Success with Currency Conversion",
          "originalRequest": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{base_url}}/api/comparisons?name=macbook pro&country=PT&currentCountry=BR&currency=EUR",
              "host": ["{{base_url}}"],
              "path": ["api", "comparisons"],
              "query": [
                {
                  "key": "name",
                  "value": "macbook pro"
                },
                {
                  "key": "country",
                  "value": "PT"
                },
                {
                  "key": "currentCountry",
                  "value": "BR"
                },
                {
                  "key": "currency",
                  "value": "EUR"
                }
              ]
            }
          },
          "status": "OK",
          "code": 200,
          "_postman_previewlanguage": "json",
          "header": [
            {
              "key": "Content-Type",
              "value": "application/json"
            }
          ],
          "cookie": [],
          "body": "[\n  {\n    \"name\": \"MacBook Pro 14 M3 512GB\",\n    \"price\": \"2299.00\",\n    \"store\": \"KuantoKusta (Available for Portugal) - Browsing from Brazil\",\n    \"currency\": \"EUR\",\n    \"url\": \"https://www.kuantokusta.pt/p/54321/macbook-pro-14-m3-512gb\"\n  },\n  {\n    \"name\": \"MacBook Pro 16 M3 1TB Silver\",\n    \"price\": \"6890\",\n    \"store\": \"Mercado Livre (Available for Portugal) - Browsing from Brazil\",\n    \"currency\": \"BRL\",\n    \"url\": \"https://www.mercadolivre.com.br/macbook-pro-16-m3-1tb-silver/p/MLB98765\",\n    \"convertedPrice\": {\n      \"price\": \"1290.45\",\n      \"currency\": \"EUR\"\n    }\n  }\n]"
        }
      ]
    },
    {
      "name": "Error - Invalid Country",
      "request": {
        "method": "GET",
        "header": [],
        "url": {
          "raw": "{{base_url}}/api/comparisons?name=test&country=XX&currency=USD",
          "host": ["{{base_url}}"],
          "path": ["api", "comparisons"],
          "query": [
            {
              "key": "name",
              "value": "test"
            },
            {
              "key": "country",
              "value": "XX"
            },
            {
              "key": "currency",
              "value": "USD"
            }
          ]
        }
      },
      "response": [
        {
          "name": "Invalid Country Error",
          "originalRequest": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{base_url}}/api/comparisons?name=test&country=XX&currency=USD",
              "host": ["{{base_url}}"],
              "path": ["api", "comparisons"],
              "query": [
                {
                  "key": "name",
                  "value": "test"
                },
                {
                  "key": "country",
                  "value": "XX"
                },
                {
                  "key": "currency",
                  "value": "USD"
                }
              ]
            }
          },
          "status": "Bad Request",
          "code": 400,
          "_postman_previewlanguage": "json",
          "header": [
            {
              "key": "Content-Type",
              "value": "application/json"
            }
          ],
          "cookie": [],
          "body": "{\n  \"error\": \"Invalid country ISO code. Supported codes: PT, US, ES, DE, GB, BR\"\n}"
        }
      ]
    },
    {
      "name": "Error - Missing Parameters",
      "request": {
        "method": "GET",
        "header": [],
        "url": {
          "raw": "{{base_url}}/api/comparisons?name=test",
          "host": ["{{base_url}}"],
          "path": ["api", "comparisons"],
          "query": [
            {
              "key": "name",
              "value": "test"
            }
          ]
        }
      },
      "response": []
    },
    {
      "name": "Special Characters Test",
      "request": {
        "method": "GET",
        "header": [],
        "url": {
          "raw": "{{base_url}}/api/comparisons?name=caf√© expresso&country=PT&currency=EUR",
          "host": ["{{base_url}}"],
          "path": ["api", "comparisons"],
          "query": [
            {
              "key": "name",
              "value": "caf√© expresso"
            },
            {
              "key": "country",
              "value": "PT"
            },
            {
              "key": "currency",
              "value": "EUR"
            }
          ]
        }
      },
      "response": []
    },
    {
      "name": "Limit Test - 3 results",
      "request": {
        "method": "GET",
        "header": [],
        "url": {
          "raw": "{{base_url}}/api/comparisons?name=iphone 15&country=PT&currency=EUR&limit=3",
          "host": ["{{base_url}}"],
          "path": ["api", "comparisons"],
          "query": [
            {
              "key": "name",
              "value": "iphone 15"
            },
            {
              "key": "country",
              "value": "PT"
            },
            {
              "key": "currency",
              "value": "EUR"
            },
            {
              "key": "limit",
              "value": "3"
            }
          ]
        }
      },
      "response": []
    },
    {
      "name": "Currency Conversion Test",
      "request": {
        "method": "GET",
        "header": [],
        "url": {
          "raw": "{{base_url}}/api/comparisons?name=macbook pro&country=PT&currentCountry=BR&currency=EUR&limit=3",
          "host": ["{{base_url}}"],
          "path": ["api", "comparisons"],
          "query": [
            {
              "key": "name",
              "value": "macbook pro"
            },
            {
              "key": "country",
              "value": "PT"
            },
            {
              "key": "currentCountry",
              "value": "BR"
            },
            {
              "key": "currency",
              "value": "EUR"
            },
            {
              "key": "limit",
              "value": "3"
            }
          ]
        }
      },
      "response": [
        {
          "name": "Missing Country Parameter Error",
          "originalRequest": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{base_url}}/api/comparisons?name=test",
              "host": ["{{base_url}}"],
              "path": ["api", "comparisons"],
              "query": [
                {
                  "key": "name",
                  "value": "test"
                }
              ]
            }
          },
          "status": "Bad Request",
          "code": 400,
          "_postman_previewlanguage": "json",
          "header": [
            {
              "key": "Content-Type",
              "value": "application/json"
            }
          ],
          "cookie": [],
          "body": "{\n  \"error\": \"Country ISO code is required (e.g., PT, US, ES, DE, GB, BR)\"\n}"
        }
      ]
    },
    {
      "name": "Admin - Exchange Rate Status",
      "request": {
        "method": "GET",
        "header": [],
        "url": {
          "raw": "{{base_url}}/admin/exchange-rates/status",
          "host": ["{{base_url}}"],
          "path": ["admin", "exchange-rates", "status"]
        }
      },
      "response": [
        {
          "name": "Cache Status - Empty",
          "originalRequest": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{base_url}}/admin/exchange-rates/status",
              "host": ["{{base_url}}"],
              "path": ["admin", "exchange-rates", "status"]
            }
          },
          "status": "OK",
          "code": 200,
          "_postman_previewlanguage": "json",
          "header": [
            {
              "key": "Content-Type",
              "value": "application/json"
            }
          ],
          "cookie": [],
          "body": "{\n  \"cache_count\": 0,\n  \"cache_status\": {}\n}"
        },
        {
          "name": "Cache Status - With Data",
          "originalRequest": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{base_url}}/admin/exchange-rates/status",
              "host": ["{{base_url}}"],
              "path": ["admin", "exchange-rates", "status"]
            }
          },
          "status": "OK",
          "code": 200,
          "_postman_previewlanguage": "json",
          "header": [
            {
              "key": "Content-Type",
              "value": "application/json"
            }
          ],
          "cookie": [],
          "body": "{\n  \"cache_count\": 2,\n  \"cache_status\": {\n    \"USD\": \"2025-10-07T12:30:45Z\",\n    \"BRL\": \"2025-10-07T12:25:30Z\"\n  }\n}"
        }
      ]
    },
    {
      "name": "Admin - Test Exchange Rate API",
      "request": {
        "method": "GET",
        "header": [],
        "url": {
          "raw": "{{base_url}}/admin/exchange-rates/test?currency=USD",
          "host": ["{{base_url}}"],
          "path": ["admin", "exchange-rates", "test"],
          "query": [
            {
              "key": "currency",
              "value": "USD"
            }
          ]
        }
      },
      "response": [
        {
          "name": "Exchange Rate API Test - Success",
          "originalRequest": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{base_url}}/admin/exchange-rates/test?currency=USD",
              "host": ["{{base_url}}"],
              "path": ["admin", "exchange-rates", "test"],
              "query": [
                {
                  "key": "currency",
                  "value": "USD"
                }
              ]
            }
          },
          "status": "OK",
          "code": 200,
          "_postman_previewlanguage": "json",
          "header": [
            {
              "key": "Content-Type",
              "value": "application/json"
            }
          ],
          "cookie": [],
          "body": "{\n  \"base_currency\": \"USD\",\n  \"rates\": {\n    \"USD\": 1,\n    \"EUR\": 0.8542,\n    \"BRL\": 5.3360,\n    \"GBP\": 0.7423,\n    \"JPY\": 150.0247\n  },\n  \"total_rates\": 170\n}"
        }
      ]
    },
    {
      "name": "Admin - Clear Exchange Rate Cache",
      "request": {
        "method": "DELETE",
        "header": [],
        "url": {
          "raw": "{{base_url}}/admin/exchange-rates/cache",
          "host": ["{{base_url}}"],
          "path": ["admin", "exchange-rates", "cache"]
        }
      },
      "response": [
        {
          "name": "Cache Clear - Success",
          "originalRequest": {
            "method": "DELETE",
            "header": [],
            "url": {
              "raw": "{{base_url}}/admin/exchange-rates/cache",
              "host": ["{{base_url}}"],
              "path": ["admin", "exchange-rates", "cache"]
            }
          },
          "status": "OK",
          "code": 200,
          "_postman_previewlanguage": "json",
          "header": [
            {
              "key": "Content-Type",
              "value": "application/json"
            }
          ],
          "cookie": [],
          "body": "{\n  \"message\": \"Exchange rate cache cleared successfully\"\n}"
        }
      ]
    }
  ]
}
{
  "info": {
    "name": "muambr-api Collection",
    "description": "Product Comparison API Testing Collection - Updated October 2025\n\nFeatures:\n- Multi-country product comparison with structured sections\n- Currency conversion with exchange rate caching\n- Macro region support for broader country coverage\n- Localized responses based on base country\n- Link preview functionality with HTML parsing\n- Admin endpoints for cache management and testing\n\nAPI Structure:\n- Main API: /api/v1/ (for production endpoints)\n- Admin API: /admin/ (for utility and management)\n- Health Check: /health (simple status endpoint)\n\nResponse Structure:\n- Results are grouped by country in sections\n- Each section contains products from that specific country\n- Currency conversion included when target differs from product currency\n\nMacro Regions:\n- EU: Portugal, Spain, Germany, United Kingdom\n- NA: United States\n- LATAM: Brazil\n\nSupported Countries: BR, US, PT, ES, DE, GB",
    "schema": "https://schema.getpostman.com/json/collection/v2.1.0/collection.json"
  },
  "variable": [
    {
      "key": "base_url",
      "value": "http://localhost:8080",
      "description": "Base URL for the API (change to production URL when deployed)"
    }
  ],
  "item": [
    {
      "name": "Health Check",
      "request": {
        "method": "GET",
        "header": [],
        "url": {
          "raw": "{{base_url}}/health",
          "host": ["{{base_url}}"],
          "path": ["health"]
        }
      },
      "response": [
        {
          "name": "Health Check - Success",
          "originalRequest": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{base_url}}/health",
              "host": ["{{base_url}}"],
              "path": ["health"]
            }
          },
          "status": "OK",
          "code": 200,
          "_postman_previewlanguage": "json",
          "header": [
            {
              "key": "Content-Type",
              "value": "application/json"
            }
          ],
          "cookie": [],
          "body": "{\n  \"status\": \"Product Comparison API is running\",\n  \"message\": \"The API is healthy and ready to process requests\"\n}"
        }
      ]
    },
    {
      "name": "Basic Search - Brazil Products",
      "request": {
        "method": "GET",
        "header": [],
        "url": {
          "raw": "{{base_url}}/api/v1/comparisons/search?name=sony xm6&baseCountry=BR&currency=BRL&limit=5",
          "host": ["{{base_url}}"],
          "path": ["api", "v1", "comparisons", "search"],
          "query": [
            {
              "key": "name",
              "value": "sony xm6",
              "description": "Product name to search for"
            },
            {
              "key": "baseCountry",
              "value": "BR",
              "description": "User's base country (required)"
            },
            {
              "key": "currency",
              "value": "BRL",
              "description": "Target currency for results"
            },
            {
              "key": "limit",
              "value": "5",
              "description": "Maximum number of results per section"
            }
          ]
        }
      },
      "response": [
        {
          "name": "Mercado Livre - Success Response",
          "originalRequest": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{base_url}}/api/v1/comparisons/search?name=sony xm6&baseCountry=BR&currency=BRL&limit=5",
              "host": ["{{base_url}}"],
              "path": ["api", "v1", "comparisons", "search"],
              "query": [
                {
                  "key": "name",
                  "value": "sony xm6"
                },
                {
                  "key": "baseCountry",
                  "value": "BR"
                },
                {
                  "key": "currency",
                  "value": "BRL"
                },
                {
                  "key": "limit",
                  "value": "5"
                }
              ]
            }
          },
          "status": "OK",
          "code": 200,
          "_postman_previewlanguage": "json",
          "header": [
            {
              "key": "Content-Type",
              "value": "application/json"
            }
          ],
          "cookie": [],
          "body": "{\n  \"success\": true,\n  \"sections\": [\n    {\n      \"country\": \"BR\",\n      \"countryName\": \"Brazil\",\n      \"comparisons\": [\n        {\n          \"id\": \"f47ac10b-58cc-4372-a567-0e02b2c3d479\",\n          \"productName\": \"Fone De Ouvido On-ear Sony Zx Series Mdr-zx110 Preto\",\n          \"price\": 121.00,\n          \"currency\": \"BRL\",\n          \"storeName\": \"Mercado Livre\",\n          \"storeURL\": \"https://www.mercadolivre.com.br/fone-de-ouvido-on-ear-sony-zx-series-mdr-zx110-mdr-zx110-preto/p/MLB6072236\",\n          \"country\": \"BR\",\n          \"condition\": \"new\"\n        },\n        {\n          \"id\": \"f47ac10b-58cc-4372-a567-0e02b2c3d480\",\n          \"productName\": \"Fone De Ouvido On-ear Sony Zx Series Mdr-zx110 Branco\",\n          \"price\": 121.00,\n          \"currency\": \"BRL\",\n          \"storeName\": \"Mercado Livre\",\n          \"storeURL\": \"https://www.mercadolivre.com.br/fone-de-ouvido-on-ear-sony-zx-series-mdr-zx110-mdr-zx110-branco/p/MLB6072235\",\n          \"country\": \"BR\",\n          \"condition\": \"new\"\n        },\n        {\n          \"id\": \"f47ac10b-58cc-4372-a567-0e02b2c3d481\",\n          \"productName\": \"Fone De Ouvido Sony Mdr-zx110 Headphone Dobrável Preto\",\n          \"price\": 138.57,\n          \"currency\": \"BRL\",\n          \"storeName\": \"Mercado Livre\",\n          \"storeURL\": \"https://www.mercadolivre.com.br/fone-de-ouvido-sony-mdrzx110-headphone-dobravel-preto/up/MLBU1100575710\",\n          \"country\": \"BR\",\n          \"condition\": \"new\"\n        }\n      ],\n      \"resultsCount\": 3\n    }\n  ],\n  \"totalResults\": 3\n}"
        }
      ]
    },
    {
      "name": "Basic Search - Portugal Products", 
      "request": {
        "method": "GET",
        "header": [],
        "url": {
          "raw": "{{base_url}}/api/v1/comparisons/search?name=iphone 15&baseCountry=PT&currency=EUR",
          "host": ["{{base_url}}"],
          "path": ["api", "v1", "comparisons", "search"],
          "query": [
            {
              "key": "name",
              "value": "iphone 15",
              "description": "Product name to search for"
            },
            {
              "key": "baseCountry",
              "value": "PT",
              "description": "User's base country (required)"
            },
            {
              "key": "currency",
              "value": "EUR",
              "description": "Target currency for results"
            }
          ]
        }
      },
      "response": [
        {
          "name": "KuantoKusta - Success Response",
          "originalRequest": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{base_url}}/api/v1/comparisons/search?name=iphone 15&baseCountry=PT&currency=EUR",
              "host": ["{{base_url}}"],
              "path": ["api", "v1", "comparisons", "search"],
              "query": [
                {
                  "key": "name",
                  "value": "iphone 15"
                },
                {
                  "key": "baseCountry",
                  "value": "PT"
                },
                {
                  "key": "currency",
                  "value": "EUR"
                }
              ]
            }
          },
          "status": "OK",
          "code": 200,
          "_postman_previewlanguage": "json",
          "header": [
            {
              "key": "Content-Type",
              "value": "application/json"
            }
          ],
          "cookie": [],
          "body": "{\n  \"success\": true,\n  \"sections\": [\n    {\n      \"country\": \"PT\",\n      \"countryName\": \"Portugal\",\n      \"comparisons\": [\n        {\n          \"id\": \"6ba7b810-9dad-11d1-80b4-00c04fd430c8\",\n          \"productName\": \"iPhone 15 128GB Azul\",\n          \"price\": 899.00,\n          \"currency\": \"EUR\",\n          \"storeName\": \"KuantoKusta\",\n          \"storeURL\": \"https://www.kuantokusta.pt/p/12345/iphone-15-128gb-azul\",\n          \"country\": \"PT\",\n          \"condition\": \"new\"\n        },\n        {\n          \"id\": \"6ba7b811-9dad-11d1-80b4-00c04fd430c8\",\n          \"productName\": \"iPhone 15 256GB Rosa\",\n          \"price\": 999.00,\n          \"currency\": \"EUR\",\n          \"storeName\": \"KuantoKusta\",\n          \"storeURL\": \"https://www.kuantokusta.pt/p/12346/iphone-15-256gb-rosa\",\n          \"country\": \"PT\",\n          \"condition\": \"new\"\n        }\n      ],\n      \"resultsCount\": 2\n    }\n  ],\n  \"totalResults\": 2\n}"
        }
      ]
    },
    {
      "name": "Basic Search - Spain Products (Empty Result)",
      "request": {
        "method": "GET",
        "header": [],
        "url": {
          "raw": "{{base_url}}/api/v1/comparisons/search?name=samsung galaxy s24&baseCountry=ES&currency=EUR",
          "host": ["{{base_url}}"],
          "path": ["api", "v1", "comparisons", "search"],
          "query": [
            {
              "key": "name",
              "value": "samsung galaxy s24"
            },
            {
              "key": "baseCountry",
              "value": "ES"
            },
            {
              "key": "currency",
              "value": "EUR"
            }
          ]
        }
      },
      "response": [
        {
          "name": "Spain - No Results (Expected)",
          "originalRequest": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{base_url}}/api/v1/comparisons/search?name=samsung galaxy s24&baseCountry=ES&currency=EUR",
              "host": ["{{base_url}}"],
              "path": ["api", "v1", "comparisons", "search"],
              "query": [
                {
                  "key": "name",
                  "value": "samsung galaxy s24"
                },
                {
                  "key": "baseCountry",
                  "value": "ES"
                },
                {
                  "key": "currency",
                  "value": "EUR"
                }
              ]
            }
          },
          "status": "OK",
          "code": 200,
          "_postman_previewlanguage": "json",
          "header": [
            {
              "key": "Content-Type",
              "value": "application/json"
            }
          ],
          "cookie": [],
          "body": "{\n  \"success\": true,\n  \"message\": \"No products found matching your search criteria\",\n  \"sections\": [],\n  \"totalResults\": 0\n}"
        }
      ]
    },
    {
      "name": "With Current Country Context",
      "request": {
        "method": "GET",
        "header": [],
        "url": {
          "raw": "{{base_url}}/api/v1/comparisons/search?name=macbook pro&baseCountry=PT&currentUserCountry=BR&currency=EUR",
          "host": ["{{base_url}}"],
          "path": ["api", "v1", "comparisons", "search"],
          "query": [
            {
              "key": "name",
              "value": "macbook pro"
            },
            {
              "key": "baseCountry",
              "value": "PT"
            },
            {
              "key": "currentUserCountry",
              "value": "BR"
            },
            {
              "key": "currency",
              "value": "EUR"
            }
          ]
        }
      },
      "response": [
        {
          "name": "Multi-Country Success with Currency Conversion",
          "originalRequest": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{base_url}}/api/v1/comparisons/search?name=macbook pro&baseCountry=PT&currentUserCountry=BR&currency=EUR",
              "host": ["{{base_url}}"],
              "path": ["api", "v1", "comparisons", "search"],
              "query": [
                {
                  "key": "name",
                  "value": "macbook pro"
                },
                {
                  "key": "baseCountry",
                  "value": "PT"
                },
                {
                  "key": "currentUserCountry",
                  "value": "BR"
                },
                {
                  "key": "currency",
                  "value": "EUR"
                }
              ]
            }
          },
          "status": "OK",
          "code": 200,
          "_postman_previewlanguage": "json",
          "header": [
            {
              "key": "Content-Type",
              "value": "application/json"
            }
          ],
          "cookie": [],
          "body": "{\n  \"success\": true,\n  \"sections\": [\n    {\n      \"country\": \"PT\",\n      \"countryName\": \"Portugal\",\n      \"comparisons\": [\n        {\n          \"id\": \"kk-pt-003\",\n          \"productName\": \"MacBook Pro 14 M3 512GB\",\n          \"price\": 2299.00,\n          \"currency\": \"EUR\",\n          \"storeName\": \"KuantoKusta\",\n          \"storeURL\": \"https://www.kuantokusta.pt/p/54321/macbook-pro-14-m3-512gb\",\n          \"country\": \"PT\",\n          \"condition\": \"new\"\n        }\n      ],\n      \"resultsCount\": 1\n    },\n    {\n      \"country\": \"BR\",\n      \"countryName\": \"Brazil\",\n      \"comparisons\": [\n        {\n          \"id\": \"ml-br-004\",\n          \"productName\": \"MacBook Pro 16 M3 1TB Silver\",\n          \"price\": 6890.00,\n          \"currency\": \"BRL\",\n          \"convertedPrice\": {\n            \"price\": 1290.45,\n            \"currency\": \"EUR\"\n          },\n          \"storeName\": \"Mercado Livre\",\n          \"storeURL\": \"https://www.mercadolivre.com.br/macbook-pro-16-m3-1tb-silver/p/MLB98765\",\n          \"country\": \"BR\",\n          \"condition\": \"new\"\n        }\n      ],\n      \"resultsCount\": 1\n    }\n  ],\n  \"totalResults\": 2\n}"
        }
      ]
    },
    {
      "name": "With Macro Region (EU)",
      "request": {
        "method": "GET",
        "header": [],
        "url": {
          "raw": "{{base_url}}/api/v1/comparisons/search?name=iphone 15&baseCountry=PT&currentUserCountry=ES&useMacroRegion=true&currency=EUR&limit=5",
          "host": ["{{base_url}}"],
          "path": ["api", "v1", "comparisons", "search"],
          "query": [
            {
              "key": "name",
              "value": "iphone 15"
            },
            {
              "key": "baseCountry",
              "value": "PT"
            },
            {
              "key": "currentUserCountry",
              "value": "ES"
            },
            {
              "key": "useMacroRegion",
              "value": "true"
            },
            {
              "key": "currency",
              "value": "EUR"
            },
            {
              "key": "limit",
              "value": "5"
            }
          ]
        }
      },
      "response": [
        {
          "name": "Macro Region Success - EU Countries",
          "originalRequest": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{base_url}}/api/v1/comparisons/search?name=iphone 15&baseCountry=PT&currentUserCountry=ES&useMacroRegion=true&currency=EUR&limit=5",
              "host": ["{{base_url}}"],
              "path": ["api", "v1", "comparisons", "search"],
              "query": [
                {
                  "key": "name",
                  "value": "iphone 15"
                },
                {
                  "key": "baseCountry",
                  "value": "PT"
                },
                {
                  "key": "currentUserCountry",
                  "value": "ES"
                },
                {
                  "key": "useMacroRegion",
                  "value": "true"
                },
                {
                  "key": "currency",
                  "value": "EUR"
                },
                {
                  "key": "limit",
                  "value": "5"
                }
              ]
            }
          },
          "status": "OK",
          "code": 200,
          "_postman_previewlanguage": "json",
          "header": [
            {
              "key": "Content-Type",
              "value": "application/json"
            }
          ],
          "cookie": [],
          "body": "{\n  \"success\": true,\n  \"sections\": [\n    {\n      \"country\": \"PT\",\n      \"countryName\": \"Portugal\",\n      \"comparisons\": [\n        {\n          \"id\": \"kk-pt-015\",\n          \"productName\": \"iPhone 15 128GB Azul\",\n          \"price\": 899.00,\n          \"currency\": \"EUR\",\n          \"storeName\": \"KuantoKusta\",\n          \"storeURL\": \"https://www.kuantokusta.pt/p/12345/iphone-15-128gb-azul\",\n          \"country\": \"PT\",\n          \"condition\": \"new\"\n        }\n      ],\n      \"resultsCount\": 1\n    }\n  ],\n  \"totalResults\": 1\n}"
        }
      ]
    },
    {
      "name": "With Macro Region Disabled (Default)",
      "request": {
        "method": "GET",
        "header": [],
        "url": {
          "raw": "{{base_url}}/api/v1/comparisons/search?name=iphone 15&baseCountry=PT&currentUserCountry=ES&useMacroRegion=false&currency=EUR&limit=5",
          "host": ["{{base_url}}"],
          "path": ["api", "v1", "comparisons", "search"],
          "query": [
            {
              "key": "name",
              "value": "iphone 15"
            },
            {
              "key": "baseCountry",
              "value": "PT"
            },
            {
              "key": "currentUserCountry",
              "value": "ES"
            },
            {
              "key": "useMacroRegion",
              "value": "false"
            },
            {
              "key": "currency",
              "value": "EUR"
            },
            {
              "key": "limit",
              "value": "5"
            }
          ]
        }
      },
      "response": [
        {
          "name": "Macro Region Disabled - Only Specific Countries",
          "originalRequest": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{base_url}}/api/v1/comparisons/search?name=iphone 15&baseCountry=PT&currentUserCountry=ES&useMacroRegion=false&currency=EUR&limit=5",
              "host": ["{{base_url}}"],
              "path": ["api", "v1", "comparisons", "search"],
              "query": [
                {
                  "key": "name",
                  "value": "iphone 15"
                },
                {
                  "key": "baseCountry",
                  "value": "PT"
                },
                {
                  "key": "currentUserCountry",
                  "value": "ES"
                },
                {
                  "key": "useMacroRegion",
                  "value": "false"
                },
                {
                  "key": "currency",
                  "value": "EUR"
                },
                {
                  "key": "limit",
                  "value": "5"
                }
              ]
            }
          },
          "status": "OK",
          "code": 200,
          "_postman_previewlanguage": "json",
          "header": [
            {
              "key": "Content-Type",
              "value": "application/json"
            }
          ],
          "cookie": [],
          "body": "{\n  \"success\": true,\n  \"sections\": [\n    {\n      \"country\": \"PT\",\n      \"countryName\": \"Portugal\",\n      \"comparisons\": [\n        {\n          \"id\": \"kk-pt-015\",\n          \"productName\": \"iPhone 15 128GB Azul\",\n          \"price\": 899.00,\n          \"currency\": \"EUR\",\n          \"storeName\": \"KuantoKusta\",\n          \"storeURL\": \"https://www.kuantokusta.pt/p/12345/iphone-15-128gb-azul\",\n          \"country\": \"PT\",\n          \"condition\": \"new\"\n        }\n      ],\n      \"resultsCount\": 1\n    }\n  ],\n  \"totalResults\": 1\n}"
        }
      ]
    },
    {
      "name": "Cross-Region Example (Brazil to EU)",
      "request": {
        "method": "GET",
        "header": [],
        "url": {
          "raw": "{{base_url}}/api/v1/comparisons/search?name=samsung galaxy&baseCountry=BR&currentUserCountry=DE&useMacroRegion=true&currency=BRL&limit=3",
          "host": ["{{base_url}}"],
          "path": ["api", "v1", "comparisons", "search"],
          "query": [
            {
              "key": "name",
              "value": "samsung galaxy"
            },
            {
              "key": "baseCountry",
              "value": "BR"
            },
            {
              "key": "currentUserCountry",
              "value": "DE"
            },
            {
              "key": "useMacroRegion",
              "value": "true"
            },
            {
              "key": "currency",
              "value": "BRL"
            },
            {
              "key": "limit",
              "value": "3"
            }
          ]
        }
      },
      "response": [
        {
          "name": "Cross-Region Success - Brazil + EU Macro Region",
          "originalRequest": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{base_url}}/api/v1/comparisons/search?name=samsung galaxy&baseCountry=BR&currentUserCountry=DE&useMacroRegion=true&currency=BRL&limit=3",
              "host": ["{{base_url}}"],
              "path": ["api", "v1", "comparisons", "search"],
              "query": [
                {
                  "key": "name",
                  "value": "samsung galaxy"
                },
                {
                  "key": "baseCountry",
                  "value": "BR"
                },
                {
                  "key": "currentUserCountry",
                  "value": "DE"
                },
                {
                  "key": "useMacroRegion",
                  "value": "true"
                },
                {
                  "key": "currency",
                  "value": "BRL"
                },
                {
                  "key": "limit",
                  "value": "3"
                }
              ]
            }
          },
          "status": "OK",
          "code": 200,
          "_postman_previewlanguage": "json",
          "header": [
            {
              "key": "Content-Type",
              "value": "application/json"
            }
          ],
          "cookie": [],
          "body": "{\n  \"success\": true,\n  \"sections\": [\n    {\n      \"country\": \"BR\",\n      \"countryName\": \"Brazil\",\n      \"comparisons\": [\n        {\n          \"id\": \"ml-br-020\",\n          \"productName\": \"Samsung Galaxy S24 Ultra 256GB\",\n          \"price\": 4299.00,\n          \"currency\": \"BRL\",\n          \"storeName\": \"Mercado Livre\",\n          \"storeURL\": \"https://www.mercadolivre.com.br/samsung-galaxy-s24-ultra-256gb/p/MLB12345\",\n          \"country\": \"BR\",\n          \"condition\": \"new\"\n        },\n        {\n          \"id\": \"mg-br-021\",\n          \"productName\": \"Samsung Galaxy S24 128GB Preto\",\n          \"price\": 3199.00,\n          \"currency\": \"BRL\",\n          \"storeName\": \"Magazine Luiza\",\n          \"storeURL\": \"https://www.magazineluiza.com.br/samsung-galaxy-s24-128gb/p/67890\",\n          \"country\": \"BR\",\n          \"condition\": \"new\"\n        }\n      ],\n      \"resultsCount\": 2\n    },\n    {\n      \"country\": \"PT\",\n      \"countryName\": \"Portugal\",\n      \"comparisons\": [\n        {\n          \"id\": \"kk-pt-022\",\n          \"productName\": \"Samsung Galaxy S24 Plus 512GB\",\n          \"price\": 1199.00,\n          \"currency\": \"EUR\",\n          \"convertedPrice\": {\n            \"price\": 6398.47,\n            \"currency\": \"BRL\"\n          },\n          \"storeName\": \"KuantoKusta\",\n          \"storeURL\": \"https://www.kuantokusta.pt/p/54321/samsung-galaxy-s24-plus-512gb\",\n          \"country\": \"PT\",\n          \"condition\": \"new\"\n        }\n      ],\n      \"resultsCount\": 1\n    }\n  ],\n  \"totalResults\": 3\n}"
        }
      ]
    },
    {
      "name": "Error - Invalid Country",
      "request": {
        "method": "GET",
        "header": [],
        "url": {
          "raw": "{{base_url}}/api/v1/comparisons/search?name=test&baseCountry=XX&currency=USD",
          "host": ["{{base_url}}"],
          "path": ["api", "v1", "comparisons", "search"],
          "query": [
            {
              "key": "name",
              "value": "test"
            },
            {
              "key": "baseCountry",
              "value": "XX"
            },
            {
              "key": "currency",
              "value": "USD"
            }
          ]
        }
      },
      "response": [
        {
          "name": "Invalid Country Error",
          "originalRequest": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{base_url}}/api/v1/comparisons/search?name=test&baseCountry=XX&currency=USD",
              "host": ["{{base_url}}"],
              "path": ["api", "v1", "comparisons", "search"],
              "query": [
                {
                  "key": "name",
                  "value": "test"
                },
                {
                  "key": "baseCountry",
                  "value": "XX"
                },
                {
                  "key": "currency",
                  "value": "USD"
                }
              ]
            }
          },
          "status": "Bad Request",
          "code": 400,
          "_postman_previewlanguage": "json",
          "header": [
            {
              "key": "Content-Type",
              "value": "application/json"
            }
          ],
          "cookie": [],
          "body": "{\n  \"success\": false,\n  \"message\": \"Invalid country ISO code. Supported codes: PT, US, ES, DE, GB, BR\",\n  \"sections\": [],\n  \"totalResults\": 0\n}"
        }
      ]
    },
    {
      "name": "Error - Missing Parameters",
      "request": {
        "method": "GET",
        "header": [],
        "url": {
          "raw": "{{base_url}}/api/v1/comparisons/search?name=test",
          "host": ["{{base_url}}"],
          "path": ["api", "v1", "comparisons", "search"],
          "query": [
            {
              "key": "name",
              "value": "test"
            }
          ]
        }
      },
      "response": [
        {
          "name": "Missing Base Country Parameter Error",
          "originalRequest": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{base_url}}/api/v1/comparisons/search?name=test",
              "host": ["{{base_url}}"],
              "path": ["api", "v1", "comparisons", "search"],
              "query": [
                {
                  "key": "name",
                  "value": "test"
                }
              ]
            }
          },
          "status": "Bad Request",
          "code": 400,
          "_postman_previewlanguage": "json",
          "header": [
            {
              "key": "Content-Type",
              "value": "application/json"
            }
          ],
          "cookie": [],
          "body": "{\n  \"success\": false,\n  \"message\": \"Base country ISO code is required (e.g., PT, US, ES, DE, GB, BR)\",\n  \"sections\": [],\n  \"totalResults\": 0\n}"
        },
        {
          "name": "Missing Product Name Parameter Error",
          "originalRequest": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{base_url}}/api/v1/comparisons/search?baseCountry=PT",
              "host": ["{{base_url}}"],
              "path": ["api", "v1", "comparisons", "search"],
              "query": [
                {
                  "key": "baseCountry",
                  "value": "PT"
                }
              ]
            }
          },
          "status": "Bad Request",
          "code": 400,
          "_postman_previewlanguage": "json",
          "header": [
            {
              "key": "Content-Type",
              "value": "application/json"
            }
          ],
          "cookie": [],
          "body": "{\n  \"success\": false,\n  \"message\": \"Product name is required\",\n  \"sections\": [],\n  \"totalResults\": 0\n}"
        }
      ]
    },
    {
      "name": "Special Characters Test",
      "request": {
        "method": "GET",
        "header": [],
        "url": {
          "raw": "{{base_url}}/api/v1/comparisons/search?name=café expresso&baseCountry=PT&currency=EUR",
          "host": ["{{base_url}}"],
          "path": ["api", "v1", "comparisons", "search"],
          "query": [
            {
              "key": "name",
              "value": "café expresso"
            },
            {
              "key": "baseCountry",
              "value": "PT"
            },
            {
              "key": "currency",
              "value": "EUR"
            }
          ]
        }
      },
      "response": []
    },
    {
      "name": "Limit Test - 3 results",
      "request": {
        "method": "GET",
        "header": [],
        "url": {
          "raw": "{{base_url}}/api/v1/comparisons/search?name=iphone 15&baseCountry=PT&currency=EUR&limit=3",
          "host": ["{{base_url}}"],
          "path": ["api", "v1", "comparisons", "search"],
          "query": [
            {
              "key": "name",
              "value": "iphone 15"
            },
            {
              "key": "baseCountry",
              "value": "PT"
            },
            {
              "key": "currency",
              "value": "EUR"
            },
            {
              "key": "limit",
              "value": "3"
            }
          ]
        }
      },
      "response": []
    },
    {
      "name": "Currency Conversion Test",
      "request": {
        "method": "GET",
        "header": [],
        "url": {
          "raw": "{{base_url}}/api/v1/comparisons/search?name=macbook pro&baseCountry=PT&currentUserCountry=BR&currency=EUR&limit=3",
          "host": ["{{base_url}}"],
          "path": ["api", "v1", "comparisons", "search"],
          "query": [
            {
              "key": "name",
              "value": "macbook pro"
            },
            {
              "key": "baseCountry",
              "value": "PT"
            },
            {
              "key": "currentUserCountry",
              "value": "BR"
            },
            {
              "key": "currency",
              "value": "EUR"
            },
            {
              "key": "limit",
              "value": "3"
            }
          ]
        }
      },
      "response": [
        {
          "name": "Currency Conversion Success",
          "originalRequest": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{base_url}}/api/v1/comparisons/search?name=macbook pro&baseCountry=PT&currentUserCountry=BR&currency=EUR&limit=3",
              "host": ["{{base_url}}"],
              "path": ["api", "v1", "comparisons", "search"],
              "query": [
                {
                  "key": "name",
                  "value": "macbook pro"
                },
                {
                  "key": "baseCountry",
                  "value": "PT"
                },
                {
                  "key": "currentUserCountry",
                  "value": "BR"
                },
                {
                  "key": "currency",
                  "value": "EUR"
                },
                {
                  "key": "limit",
                  "value": "3"
                }
              ]
            }
          },
          "status": "OK",
          "code": 200,
          "_postman_previewlanguage": "json",
          "header": [
            {
              "key": "Content-Type",
              "value": "application/json"
            }
          ],
          "cookie": [],
          "body": "{\n  \"success\": true,\n  \"sections\": [\n    {\n      \"country\": \"PT\",\n      \"countryName\": \"Portugal\",\n      \"comparisons\": [\n        {\n          \"id\": \"kk-pt-005\",\n          \"productName\": \"MacBook Pro 14 M3 Pro 512GB Space Black\",\n          \"price\": 2299.00,\n          \"currency\": \"EUR\",\n          \"storeName\": \"KuantoKusta\",\n          \"storeURL\": \"https://www.kuantokusta.pt/p/54325/macbook-pro-14-m3-pro-512gb\",\n          \"country\": \"PT\",\n          \"condition\": \"new\"\n        }\n      ],\n      \"resultsCount\": 1\n    },\n    {\n      \"country\": \"BR\",\n      \"countryName\": \"Brazil\",\n      \"comparisons\": [\n        {\n          \"id\": \"ml-br-005\",\n          \"productName\": \"MacBook Pro 13 M2 256GB\",\n          \"price\": 8999.00,\n          \"currency\": \"BRL\",\n          \"convertedPrice\": {\n            \"price\": 1685.23,\n            \"currency\": \"EUR\"\n          },\n          \"storeName\": \"Mercado Livre\",\n          \"storeURL\": \"https://www.mercadolivre.com.br/macbook-pro-13-m2-256gb/p/MLB98766\",\n          \"country\": \"BR\",\n          \"condition\": \"new\"\n        }\n      ],\n      \"resultsCount\": 1\n    }\n  ],\n  \"totalResults\": 2\n}"
        }
      ]
    },
    {
      "name": "Link Preview - Amazon Product",
      "request": {
        "method": "GET",
        "header": [],
        "url": {
          "raw": "{{base_url}}/api/v1/linkpreview?url=https://amazon.es/dp/B0C1JJQMTC&baseCountry=PT",
          "host": ["{{base_url}}"],
          "path": ["api", "v1", "linkpreview"],
          "query": [
            {
              "key": "url",
              "value": "https://amazon.es/dp/B0C1JJQMTC"
            },
            {
              "key": "baseCountry",
              "value": "PT"
            }
          ]
        }
      },
      "response": [
        {
          "name": "Link Preview Success",
          "originalRequest": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{base_url}}/api/v1/linkpreview?url=https://amazon.es/dp/B0C1JJQMTC&baseCountry=PT",
              "host": ["{{base_url}}"],
              "path": ["api", "v1", "linkpreview"],
              "query": [
                {
                  "key": "url",
                  "value": "https://amazon.es/dp/B0C1JJQMTC"
                },
                {
                  "key": "baseCountry",
                  "value": "PT"
                }
              ]
            }
          },
          "status": "OK",
          "code": 200,
          "_postman_previewlanguage": "json",
          "header": [
            {
              "key": "Content-Type",
              "value": "application/json"
            }
          ],
          "cookie": [],
          "body": "{\n  \"productData\": {\n    \"title\": \"iPhone 15 Pro Max 256GB\",\n    \"price\": 1479.00,\n    \"currency\": \"eur\",\n    \"imageURL\": \"https://m.media-amazon.com/images/I/81dT7CUY6GL._AC_SX679_.jpg\",\n    \"description\": \"iPhone 15 Pro Max 256GB Natural Titanium. Revolutionary titanium design with Action Button and advanced camera system.\"\n  }\n}"
        }
      ]
    },
    {
      "name": "Link Preview - OLX Product",
      "request": {
        "method": "GET",
        "header": [],
        "url": {
          "raw": "{{base_url}}/api/v1/linkpreview?url=https://olx.pt/d/anuncio/iphone-16-pro-max-256-gb-IDJ2Y4q.html&baseCountry=PT&addComparisons=false",
          "host": ["{{base_url}}"],
          "path": ["api", "v1", "linkpreview"],
          "query": [
            {
              "key": "url",
              "value": "https://olx.pt/d/anuncio/iphone-16-pro-max-256-gb-IDJ2Y4q.html"
            },
            {
              "key": "baseCountry",
              "value": "PT"
            },
            {
              "key": "addComparisons",
              "value": "false"
            }
          ]
        }
      },
      "response": [
        {
          "name": "Link Preview OLX Success",
          "originalRequest": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{base_url}}/api/v1/linkpreview?url=https://olx.pt/d/anuncio/iphone-16-pro-max-256-gb-IDJ2Y4q.html&baseCountry=PT&addComparisons=false",
              "host": ["{{base_url}}"],
              "path": ["api", "v1", "linkpreview"],
              "query": [
                {
                  "key": "url",
                  "value": "https://olx.pt/d/anuncio/iphone-16-pro-max-256-gb-IDJ2Y4q.html"
                },
                {
                  "key": "baseCountry",
                  "value": "PT"
                },
                {
                  "key": "addComparisons",
                  "value": "false"
                }
              ]
            }
          },
          "status": "OK",
          "code": 200,
          "_postman_previewlanguage": "json",
          "header": [
            {
              "key": "Content-Type",
              "value": "application/json"
            }
          ],
          "cookie": [],
          "body": "{\n  \"productData\": {\n    \"title\": \"iPhone 16 Pro Max 256 GB\",\n    \"price\": 1050.00,\n    \"currency\": \"eur\",\n    \"imageURL\": \"https://ireland.apollo.olxcdn.com:443/v1/files/q82seegwn3p51-PT/image;s=750x1000\",\n    \"description\": \"iPhone 16 Pro Max com 256GB de armazenamento. Estado impecável, desempenho incrível. A oportunidade perfeita para quem busca qualidade e eficiência. Sempre usado com capa e vidro de proteção, está como novo.\"\n  }\n}"
        }
      ]
    },
    {
      "name": "Link Preview - Cash Converters Product",
      "request": {
        "method": "GET",
        "header": [],
        "url": {
          "raw": "{{base_url}}/api/v1/linkpreview?url=https://cashconverters.pt/product/ipad-wi-fi-a2602-64gb-10-2-9-generacion",
          "host": ["{{base_url}}"],
          "path": ["api", "v1", "linkpreview"],
          "query": [
            {
              "key": "url",
              "value": "https://cashconverters.pt/product/ipad-wi-fi-a2602-64gb-10-2-9-generacion"
            }
          ]
        }
      },
      "response": [
        {
          "name": "Link Preview Cash Converters Success",
          "originalRequest": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{base_url}}/api/v1/linkpreview?url=https://cashconverters.pt/product/ipad-wi-fi-a2602-64gb-10-2-9-generacion",
              "host": ["{{base_url}}"],
              "path": ["api", "v1", "linkpreview"],
              "query": [
                {
                  "key": "url",
                  "value": "https://cashconverters.pt/product/ipad-wi-fi-a2602-64gb-10-2-9-generacion"
                }
              ]
            }
          },
          "status": "OK",
          "code": 200,
          "_postman_previewlanguage": "json",
          "header": [
            {
              "key": "Content-Type",
              "value": "application/json"
            }
          ],
          "cookie": [],
          "body": "{\n  \"productData\": {\n    \"title\": \"ipad (wi-fi) (a2602) 64gb (10.2) (9 generacion)\",\n    \"price\": 196.95,\n    \"currency\": \"eur\",\n    \"imageURL\": \"https://images.cashconverters.es/productslive/ipad/apple-ipad-wi-fi-a2602-64gb-10-2-9-generacion_PT006_E330780-0_0.jpg?d=large\",\n    \"description\": \"Dá uma vista de olhos às promoções de ipad (wi-fi) (a2602) 64gb (10.2) (9 generacion) de segunda mão (apple), com 3 anos de garantia e a preço de pechincha.\"\n  }\n}"
        }
      ]
    },
    {
      "name": "Link Preview - Error Cases",
      "request": {
        "method": "GET",
        "header": [],
        "url": {
          "raw": "{{base_url}}/api/v1/linkpreview?url=invalid-url",
          "host": ["{{base_url}}"],
          "path": ["api", "v1", "linkpreview"],
          "query": [
            {
              "key": "url",
              "value": "invalid-url"
            }
          ]
        }
      },
      "response": [
        {
          "name": "Invalid URL Error",
          "originalRequest": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{base_url}}/api/v1/linkpreview?url=invalid-url",
              "host": ["{{base_url}}"],
              "path": ["api", "v1", "linkpreview"],
              "query": [
                {
                  "key": "url",
                  "value": "invalid-url"
                }
              ]
            }
          },
          "status": "Bad Request",
          "code": 400,
          "_postman_previewlanguage": "json",
          "header": [
            {
              "key": "Content-Type",
              "value": "application/json"
            }
          ],
          "cookie": [],
          "body": "{\n  \"error\": \"Invalid URL\",\n  \"details\": \"parse \\\"invalid-url\\\": invalid URI for request\"\n}"
        }
      ]
    },
    {
      "name": "Admin - Exchange Rate Status",
      "request": {
        "method": "GET",
        "header": [],
        "url": {
          "raw": "{{base_url}}/admin/exchange-rates/status",
          "host": ["{{base_url}}"],
          "path": ["admin", "exchange-rates", "status"]
        }
      },
      "response": [
        {
          "name": "Cache Status - Empty",
          "originalRequest": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{base_url}}/admin/exchange-rates/status",
              "host": ["{{base_url}}"],
              "path": ["admin", "exchange-rates", "status"]
            }
          },
          "status": "OK",
          "code": 200,
          "_postman_previewlanguage": "json",
          "header": [
            {
              "key": "Content-Type",
              "value": "application/json"
            }
          ],
          "cookie": [],
          "body": "{\n  \"cache_count\": 0,\n  \"cache_status\": {}\n}"
        },
        {
          "name": "Cache Status - With Data",
          "originalRequest": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{base_url}}/admin/exchange-rates/status",
              "host": ["{{base_url}}"],
              "path": ["admin", "exchange-rates", "status"]
            }
          },
          "status": "OK",
          "code": 200,
          "_postman_previewlanguage": "json",
          "header": [
            {
              "key": "Content-Type",
              "value": "application/json"
            }
          ],
          "cookie": [],
          "body": "{\n  \"cache_count\": 2,\n  \"cache_status\": {\n    \"USD\": \"2025-10-07T12:30:45Z\",\n    \"BRL\": \"2025-10-07T12:25:30Z\"\n  }\n}"
        }
      ]
    },
    {
      "name": "Admin - Test Exchange Rate API",
      "request": {
        "method": "GET",
        "header": [],
        "url": {
          "raw": "{{base_url}}/admin/exchange-rates/test?currency=USD",
          "host": ["{{base_url}}"],
          "path": ["admin", "exchange-rates", "test"],
          "query": [
            {
              "key": "currency",
              "value": "USD"
            }
          ]
        }
      },
      "response": [
        {
          "name": "Exchange Rate API Test - Success",
          "originalRequest": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{base_url}}/admin/exchange-rates/test?currency=USD",
              "host": ["{{base_url}}"],
              "path": ["admin", "exchange-rates", "test"],
              "query": [
                {
                  "key": "currency",
                  "value": "USD"
                }
              ]
            }
          },
          "status": "OK",
          "code": 200,
          "_postman_previewlanguage": "json",
          "header": [
            {
              "key": "Content-Type",
              "value": "application/json"
            }
          ],
          "cookie": [],
          "body": "{\n  \"base_currency\": \"USD\",\n  \"rates\": {\n    \"USD\": 1,\n    \"EUR\": 0.8542,\n    \"BRL\": 5.3360,\n    \"GBP\": 0.7423,\n    \"JPY\": 150.0247\n  },\n  \"total_rates\": 170\n}"
        }
      ]
    },
    {
      "name": "Admin - Clear Exchange Rate Cache",
      "request": {
        "method": "DELETE",
        "header": [],
        "url": {
          "raw": "{{base_url}}/admin/exchange-rates/cache",
          "host": ["{{base_url}}"],
          "path": ["admin", "exchange-rates", "cache"]
        }
      },
      "response": [
        {
          "name": "Cache Clear - Success",
          "originalRequest": {
            "method": "DELETE",
            "header": [],
            "url": {
              "raw": "{{base_url}}/admin/exchange-rates/cache",
              "host": ["{{base_url}}"],
              "path": ["admin", "exchange-rates", "cache"]
            }
          },
          "status": "OK",
          "code": 200,
          "_postman_previewlanguage": "json",
          "header": [
            {
              "key": "Content-Type",
              "value": "application/json"
            }
          ],
          "cookie": [],
          "body": "{\n  \"message\": \"Exchange rate cache cleared successfully\"\n}"
        }
      ]
    }
  ]
}
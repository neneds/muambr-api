{
  "info": {
    "name": "muambr-api Collection",
    "description": "Product Comparison API Testing Collection",
    "schema": "https://schema.getpostman.com/json/collection/v2.1.0/collection.json"
  },
  "variable": [
    {
      "key": "base_url",
      "value": "http://localhost:8080",
      "description": "Base URL for the API (change to production URL when deployed)"
    }
  ],
  "item": [
    {
      "name": "Health Check",
      "request": {
        "method": "GET",
        "header": [],
        "url": {
          "raw": "{{base_url}}/health",
          "host": ["{{base_url}}"],
          "path": ["health"]
        }
      },
      "response": [
        {
          "name": "Health Check - Success",
          "originalRequest": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{base_url}}/health",
              "host": ["{{base_url}}"],
              "path": ["health"]
            }
          },
          "status": "OK",
          "code": 200,
          "_postman_previewlanguage": "json",
          "header": [
            {
              "key": "Content-Type",
              "value": "application/json"
            }
          ],
          "cookie": [],
          "body": "{\n  \"message\": \"Product Comparison API is running\",\n  \"version\": \"1.0.0\",\n  \"timestamp\": \"2025-10-07T12:00:00Z\"\n}"
        }
      ]
    },
    {
      "name": "Mercado Livre - Sony XM6",
      "request": {
        "method": "GET",
        "header": [],
        "url": {
          "raw": "{{base_url}}/api/v1/comparisons/search?name=sony xm6&baseCountry=BR&currency=BRL&limit=5",
          "host": ["{{base_url}}"],
          "path": ["api", "v1", "comparisons", "search"],
          "query": [
            {
              "key": "name",
              "value": "sony xm6"
            },
            {
              "key": "baseCountry",
              "value": "BR"
            },
            {
              "key": "currency",
              "value": "BRL"
            },
            {
              "key": "limit",
              "value": "5"
            }
          ]
        }
      },
      "response": [
        {
          "name": "Mercado Livre - Success Response",
          "originalRequest": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{base_url}}/api/v1/comparisons/search?name=sony xm6&baseCountry=BR&currency=BRL&limit=5",
              "host": ["{{base_url}}"],
              "path": ["api", "v1", "comparisons", "search"],
              "query": [
                {
                  "key": "name",
                  "value": "sony xm6"
                },
                {
                  "key": "baseCountry",
                  "value": "BR"
                },
                {
                  "key": "currency",
                  "value": "BRL"
                },
                {
                  "key": "limit",
                  "value": "5"
                }
              ]
            }
          },
          "status": "OK",
          "code": 200,
          "_postman_previewlanguage": "json",
          "header": [
            {
              "key": "Content-Type",
              "value": "application/json"
            }
          ],
          "cookie": [],
          "body": "{\n  \"success\": true,\n  \"comparisons\": [\n    {\n      \"id\": \"f47ac10b-58cc-4372-a567-0e02b2c3d479\",\n      \"productName\": \"Fone De Ouvido On-ear Sony Zx Series Mdr-zx110 Preto\",\n      \"price\": 121.00,\n      \"currency\": \"BRL\",\n      \"storeName\": \"Mercado Livre\",\n      \"storeURL\": \"https://www.mercadolivre.com.br/fone-de-ouvido-on-ear-sony-zx-series-mdr-zx110-mdr-zx110-preto/p/MLB6072236\",\n      \"country\": \"BR\",\n      \"condition\": \"new\"\n    },\n    {\n      \"id\": \"f47ac10b-58cc-4372-a567-0e02b2c3d480\",\n      \"productName\": \"Fone De Ouvido On-ear Sony Zx Series Mdr-zx110 Branco\",\n      \"price\": 121.00,\n      \"currency\": \"BRL\",\n      \"storeName\": \"Mercado Livre\",\n      \"storeURL\": \"https://www.mercadolivre.com.br/fone-de-ouvido-on-ear-sony-zx-series-mdr-zx110-mdr-zx110-branco/p/MLB6072235\",\n      \"country\": \"BR\",\n      \"condition\": \"new\"\n    },\n    {\n      \"id\": \"f47ac10b-58cc-4372-a567-0e02b2c3d481\",\n      \"productName\": \"Fone De Ouvido Sony Mdr-zx110 Headphone Dobrável Preto\",\n      \"price\": 138.57,\n      \"currency\": \"BRL\",\n      \"storeName\": \"Mercado Livre\",\n      \"storeURL\": \"https://www.mercadolivre.com.br/fone-de-ouvido-sony-mdrzx110-headphone-dobravel-preto/up/MLBU1100575710\",\n      \"country\": \"BR\",\n      \"condition\": \"new\"\n    }\n  ],\n  \"totalResults\": 3\n}"
        }
      ]
    },
    {
      "name": "KuantoKusta - iPhone 15",
      "request": {
        "method": "GET",
        "header": [],
        "url": {
          "raw": "{{base_url}}/api/v1/comparisons/search?name=iphone 15&baseCountry=PT&currency=EUR",
          "host": ["{{base_url}}"],
          "path": ["api", "v1", "comparisons", "search"],
          "query": [
            {
              "key": "name",
              "value": "iphone 15"
            },
            {
              "key": "baseCountry",
              "value": "PT"
            },
            {
              "key": "currency",
              "value": "EUR"
            }
          ]
        }
      },
      "response": [
        {
          "name": "KuantoKusta - Success Response",
          "originalRequest": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{base_url}}/api/v1/comparisons/search?name=iphone 15&baseCountry=PT&currency=EUR",
              "host": ["{{base_url}}"],
              "path": ["api", "v1", "comparisons", "search"],
              "query": [
                {
                  "key": "name",
                  "value": "iphone 15"
                },
                {
                  "key": "baseCountry",
                  "value": "PT"
                },
                {
                  "key": "currency",
                  "value": "EUR"
                }
              ]
            }
          },
          "status": "OK",
          "code": 200,
          "_postman_previewlanguage": "json",
          "header": [
            {
              "key": "Content-Type",
              "value": "application/json"
            }
          ],
          "cookie": [],
          "body": "{\n  \"success\": true,\n  \"comparisons\": [\n    {\n      \"id\": \"6ba7b810-9dad-11d1-80b4-00c04fd430c8\",\n      \"productName\": \"iPhone 15 128GB Azul\",\n      \"price\": 899.00,\n      \"currency\": \"EUR\",\n      \"storeName\": \"KuantoKusta\",\n      \"storeURL\": \"https://www.kuantokusta.pt/p/12345/iphone-15-128gb-azul\",\n      \"country\": \"PT\",\n      \"condition\": \"new\"\n    },\n    {\n      \"id\": \"6ba7b811-9dad-11d1-80b4-00c04fd430c8\",\n      \"productName\": \"iPhone 15 256GB Rosa\",\n      \"price\": 999.00,\n      \"currency\": \"EUR\",\n      \"storeName\": \"KuantoKusta\",\n      \"storeURL\": \"https://www.kuantokusta.pt/p/12346/iphone-15-256gb-rosa\",\n      \"country\": \"PT\",\n      \"condition\": \"new\"\n    }\n  ],\n  \"totalResults\": 2\n}"
        }
      ]
    },
    {
      "name": "Kelkoo - Samsung Galaxy",
      "request": {
        "method": "GET",
        "header": [],
        "url": {
          "raw": "{{base_url}}/api/v1/comparisons/search?name=samsung galaxy s24&baseCountry=ES&currency=EUR",
          "host": ["{{base_url}}"],
          "path": ["api", "v1", "comparisons", "search"],
          "query": [
            {
              "key": "name",
              "value": "samsung galaxy s24"
            },
            {
              "key": "baseCountry",
              "value": "ES"
            },
            {
              "key": "currency",
              "value": "EUR"
            }
          ]
        }
      },
      "response": [
        {
          "name": "Kelkoo - No Results (Expected)",
          "originalRequest": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{base_url}}/api/v1/comparisons/search?name=samsung galaxy s24&baseCountry=ES&currency=EUR",
              "host": ["{{base_url}}"],
              "path": ["api", "v1", "comparisons", "search"],
              "query": [
                {
                  "key": "name",
                  "value": "samsung galaxy s24"
                },
                {
                  "key": "baseCountry",
                  "value": "ES"
                },
                {
                  "key": "currency",
                  "value": "EUR"
                }
              ]
            }
          },
          "status": "OK",
          "code": 200,
          "_postman_previewlanguage": "json",
          "header": [
            {
              "key": "Content-Type",
              "value": "application/json"
            }
          ],
          "cookie": [],
          "body": "{\n  \"success\": true,\n  \"message\": \"No comparisons found for this product\",\n  \"comparisons\": [],\n  \"totalResults\": 0\n}"
        }
      ]
    },
    {
      "name": "With Current Country Context",
      "request": {
        "method": "GET",
        "header": [],
        "url": {
          "raw": "{{base_url}}/api/v1/comparisons/search?name=macbook pro&baseCountry=PT&currentUserCountry=BR&currency=EUR",
          "host": ["{{base_url}}"],
          "path": ["api", "v1", "comparisons", "search"],
          "query": [
            {
              "key": "name",
              "value": "macbook pro"
            },
            {
              "key": "baseCountry",
              "value": "PT"
            },
            {
              "key": "currentUserCountry",
              "value": "BR"
            },
            {
              "key": "currency",
              "value": "EUR"
            }
          ]
        }
      },
      "response": [
        {
          "name": "Multi-Country Success with Currency Conversion",
          "originalRequest": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{base_url}}/api/v1/comparisons/search?name=macbook pro&baseCountry=PT&currentUserCountry=BR&currency=EUR",
              "host": ["{{base_url}}"],
              "path": ["api", "v1", "comparisons", "search"],
              "query": [
                {
                  "key": "name",
                  "value": "macbook pro"
                },
                {
                  "key": "baseCountry",
                  "value": "PT"
                },
                {
                  "key": "currentUserCountry",
                  "value": "BR"
                },
                {
                  "key": "currency",
                  "value": "EUR"
                }
              ]
            }
          },
          "status": "OK",
          "code": 200,
          "_postman_previewlanguage": "json",
          "header": [
            {
              "key": "Content-Type",
              "value": "application/json"
            }
          ],
          "cookie": [],
          "body": "{\n  \"success\": true,\n  \"comparisons\": [\n    {\n      \"id\": \"kk-pt-003\",\n      \"productName\": \"MacBook Pro 14 M3 512GB\",\n      \"price\": 2299.00,\n      \"currency\": \"EUR\",\n      \"storeName\": \"KuantoKusta\",\n      \"storeURL\": \"https://www.kuantokusta.pt/p/54321/macbook-pro-14-m3-512gb\",\n      \"country\": \"PT\",\n      \"condition\": \"new\"\n    },\n    {\n      \"id\": \"ml-br-004\",\n      \"productName\": \"MacBook Pro 16 M3 1TB Silver\",\n      \"price\": 6890.00,\n      \"currency\": \"BRL\",\n      \"convertedPrice\": {\n        \"price\": 1290.45,\n        \"currency\": \"EUR\"\n      },\n      \"storeName\": \"Mercado Livre\",\n      \"storeURL\": \"https://www.mercadolivre.com.br/macbook-pro-16-m3-1tb-silver/p/MLB98765\",\n      \"country\": \"BR\",\n      \"condition\": \"new\"\n    }\n  ],\n  \"totalResults\": 2\n}"
        }
      ]
    },
    {
      "name": "Error - Invalid Country",
      "request": {
        "method": "GET",
        "header": [],
        "url": {
          "raw": "{{base_url}}/api/v1/comparisons/search?name=test&baseCountry=XX&currency=USD",
          "host": ["{{base_url}}"],
          "path": ["api", "v1", "comparisons", "search"],
          "query": [
            {
              "key": "name",
              "value": "test"
            },
            {
              "key": "baseCountry",
              "value": "XX"
            },
            {
              "key": "currency",
              "value": "USD"
            }
          ]
        }
      },
      "response": [
        {
          "name": "Invalid Country Error",
          "originalRequest": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{base_url}}/api/v1/comparisons/search?name=test&baseCountry=XX&currency=USD",
              "host": ["{{base_url}}"],
              "path": ["api", "v1", "comparisons", "search"],
              "query": [
                {
                  "key": "name",
                  "value": "test"
                },
                {
                  "key": "baseCountry",
                  "value": "XX"
                },
                {
                  "key": "currency",
                  "value": "USD"
                }
              ]
            }
          },
          "status": "Bad Request",
          "code": 400,
          "_postman_previewlanguage": "json",
          "header": [
            {
              "key": "Content-Type",
              "value": "application/json"
            }
          ],
          "cookie": [],
          "body": "{\n  \"success\": false,\n  \"message\": \"Invalid country ISO code. Supported codes: PT, US, ES, DE, GB, BR\",\n  \"comparisons\": [],\n  \"totalResults\": 0\n}"
        }
      ]
    },
    {
      "name": "Error - Missing Parameters",
      "request": {
        "method": "GET",
        "header": [],
        "url": {
          "raw": "{{base_url}}/api/v1/comparisons/search?name=test",
          "host": ["{{base_url}}"],
          "path": ["api", "v1", "comparisons", "search"],
          "query": [
            {
              "key": "name",
              "value": "test"
            }
          ]
        }
      },
      "response": [
        {
          "name": "Missing Base Country Parameter Error",
          "originalRequest": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{base_url}}/api/v1/comparisons/search?name=test",
              "host": ["{{base_url}}"],
              "path": ["api", "v1", "comparisons", "search"],
              "query": [
                {
                  "key": "name",
                  "value": "test"
                }
              ]
            }
          },
          "status": "Bad Request",
          "code": 400,
          "_postman_previewlanguage": "json",
          "header": [
            {
              "key": "Content-Type",
              "value": "application/json"
            }
          ],
          "cookie": [],
          "body": "{\n  \"success\": false,\n  \"message\": \"Base country ISO code is required (e.g., PT, US, ES, DE, GB, BR)\",\n  \"comparisons\": [],\n  \"totalResults\": 0\n}"
        },
        {
          "name": "Missing Product Name Parameter Error",
          "originalRequest": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{base_url}}/api/v1/comparisons/search?baseCountry=PT",
              "host": ["{{base_url}}"],
              "path": ["api", "v1", "comparisons", "search"],
              "query": [
                {
                  "key": "baseCountry",
                  "value": "PT"
                }
              ]
            }
          },
          "status": "Bad Request",
          "code": 400,
          "_postman_previewlanguage": "json",
          "header": [
            {
              "key": "Content-Type",
              "value": "application/json"
            }
          ],
          "cookie": [],
          "body": "{\n  \"success\": false,\n  \"message\": \"Product name is required\",\n  \"comparisons\": [],\n  \"totalResults\": 0\n}"
        }
      ]
    },
    {
      "name": "Special Characters Test",
      "request": {
        "method": "GET",
        "header": [],
        "url": {
          "raw": "{{base_url}}/api/v1/comparisons/search?name=café expresso&baseCountry=PT&currency=EUR",
          "host": ["{{base_url}}"],
          "path": ["api", "v1", "comparisons", "search"],
          "query": [
            {
              "key": "name",
              "value": "café expresso"
            },
            {
              "key": "baseCountry",
              "value": "PT"
            },
            {
              "key": "currency",
              "value": "EUR"
            }
          ]
        }
      },
      "response": []
    },
    {
      "name": "Limit Test - 3 results",
      "request": {
        "method": "GET",
        "header": [],
        "url": {
          "raw": "{{base_url}}/api/v1/comparisons/search?name=iphone 15&baseCountry=PT&currency=EUR&limit=3",
          "host": ["{{base_url}}"],
          "path": ["api", "v1", "comparisons", "search"],
          "query": [
            {
              "key": "name",
              "value": "iphone 15"
            },
            {
              "key": "baseCountry",
              "value": "PT"
            },
            {
              "key": "currency",
              "value": "EUR"
            },
            {
              "key": "limit",
              "value": "3"
            }
          ]
        }
      },
      "response": []
    },
    {
      "name": "Currency Conversion Test",
      "request": {
        "method": "GET",
        "header": [],
        "url": {
          "raw": "{{base_url}}/api/v1/comparisons/search?name=macbook pro&baseCountry=PT&currentUserCountry=BR&currency=EUR&limit=3",
          "host": ["{{base_url}}"],
          "path": ["api", "v1", "comparisons", "search"],
          "query": [
            {
              "key": "name",
              "value": "macbook pro"
            },
            {
              "key": "baseCountry",
              "value": "PT"
            },
            {
              "key": "currentUserCountry",
              "value": "BR"
            },
            {
              "key": "currency",
              "value": "EUR"
            },
            {
              "key": "limit",
              "value": "3"
            }
          ]
        }
      },
      "response": [
        {
          "name": "Currency Conversion Success",
          "originalRequest": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{base_url}}/api/v1/comparisons/search?name=macbook pro&baseCountry=PT&currentUserCountry=BR&currency=EUR&limit=3",
              "host": ["{{base_url}}"],
              "path": ["api", "v1", "comparisons", "search"],
              "query": [
                {
                  "key": "name",
                  "value": "macbook pro"
                },
                {
                  "key": "baseCountry",
                  "value": "PT"
                },
                {
                  "key": "currentUserCountry",
                  "value": "BR"
                },
                {
                  "key": "currency",
                  "value": "EUR"
                },
                {
                  "key": "limit",
                  "value": "3"
                }
              ]
            }
          },
          "status": "OK",
          "code": 200,
          "_postman_previewlanguage": "json",
          "header": [
            {
              "key": "Content-Type",
              "value": "application/json"
            }
          ],
          "cookie": [],
          "body": "{\n  \"success\": true,\n  \"comparisons\": [\n    {\n      \"id\": \"kk-pt-005\",\n      \"productName\": \"MacBook Pro 14 M3 Pro 512GB Space Black\",\n      \"price\": 2299.00,\n      \"currency\": \"EUR\",\n      \"storeName\": \"KuantoKusta\",\n      \"storeURL\": \"https://www.kuantokusta.pt/p/54325/macbook-pro-14-m3-pro-512gb\",\n      \"country\": \"PT\",\n      \"condition\": \"new\"\n    },\n    {\n      \"id\": \"ml-br-005\",\n      \"productName\": \"MacBook Pro 13 M2 256GB\",\n      \"price\": 8999.00,\n      \"currency\": \"BRL\",\n      \"convertedPrice\": {\n        \"price\": 1685.23,\n        \"currency\": \"EUR\"\n      },\n      \"storeName\": \"Mercado Livre\",\n      \"storeURL\": \"https://www.mercadolivre.com.br/macbook-pro-13-m2-256gb/p/MLB98766\",\n      \"country\": \"BR\",\n      \"condition\": \"new\"\n    }\n  ],\n  \"totalResults\": 2\n}"
        }
      ]
    },
    {
      "name": "Admin - Exchange Rate Status",
      "request": {
        "method": "GET",
        "header": [],
        "url": {
          "raw": "{{base_url}}/admin/exchange-rates/status",
          "host": ["{{base_url}}"],
          "path": ["admin", "exchange-rates", "status"]
        }
      },
      "response": [
        {
          "name": "Cache Status - Empty",
          "originalRequest": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{base_url}}/admin/exchange-rates/status",
              "host": ["{{base_url}}"],
              "path": ["admin", "exchange-rates", "status"]
            }
          },
          "status": "OK",
          "code": 200,
          "_postman_previewlanguage": "json",
          "header": [
            {
              "key": "Content-Type",
              "value": "application/json"
            }
          ],
          "cookie": [],
          "body": "{\n  \"cache_count\": 0,\n  \"cache_status\": {}\n}"
        },
        {
          "name": "Cache Status - With Data",
          "originalRequest": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{base_url}}/admin/exchange-rates/status",
              "host": ["{{base_url}}"],
              "path": ["admin", "exchange-rates", "status"]
            }
          },
          "status": "OK",
          "code": 200,
          "_postman_previewlanguage": "json",
          "header": [
            {
              "key": "Content-Type",
              "value": "application/json"
            }
          ],
          "cookie": [],
          "body": "{\n  \"cache_count\": 2,\n  \"cache_status\": {\n    \"USD\": \"2025-10-07T12:30:45Z\",\n    \"BRL\": \"2025-10-07T12:25:30Z\"\n  }\n}"
        }
      ]
    },
    {
      "name": "Admin - Test Exchange Rate API",
      "request": {
        "method": "GET",
        "header": [],
        "url": {
          "raw": "{{base_url}}/admin/exchange-rates/test?currency=USD",
          "host": ["{{base_url}}"],
          "path": ["admin", "exchange-rates", "test"],
          "query": [
            {
              "key": "currency",
              "value": "USD"
            }
          ]
        }
      },
      "response": [
        {
          "name": "Exchange Rate API Test - Success",
          "originalRequest": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{base_url}}/admin/exchange-rates/test?currency=USD",
              "host": ["{{base_url}}"],
              "path": ["admin", "exchange-rates", "test"],
              "query": [
                {
                  "key": "currency",
                  "value": "USD"
                }
              ]
            }
          },
          "status": "OK",
          "code": 200,
          "_postman_previewlanguage": "json",
          "header": [
            {
              "key": "Content-Type",
              "value": "application/json"
            }
          ],
          "cookie": [],
          "body": "{\n  \"base_currency\": \"USD\",\n  \"rates\": {\n    \"USD\": 1,\n    \"EUR\": 0.8542,\n    \"BRL\": 5.3360,\n    \"GBP\": 0.7423,\n    \"JPY\": 150.0247\n  },\n  \"total_rates\": 170\n}"
        }
      ]
    },
    {
      "name": "Admin - Clear Exchange Rate Cache",
      "request": {
        "method": "DELETE",
        "header": [],
        "url": {
          "raw": "{{base_url}}/admin/exchange-rates/cache",
          "host": ["{{base_url}}"],
          "path": ["admin", "exchange-rates", "cache"]
        }
      },
      "response": [
        {
          "name": "Cache Clear - Success",
          "originalRequest": {
            "method": "DELETE",
            "header": [],
            "url": {
              "raw": "{{base_url}}/admin/exchange-rates/cache",
              "host": ["{{base_url}}"],
              "path": ["admin", "exchange-rates", "cache"]
            }
          },
          "status": "OK",
          "code": 200,
          "_postman_previewlanguage": "json",
          "header": [
            {
              "key": "Content-Type",
              "value": "application/json"
            }
          ],
          "cookie": [],
          "body": "{\n  \"message\": \"Exchange rate cache cleared successfully\"\n}"
        }
      ]
    }
  ]
}